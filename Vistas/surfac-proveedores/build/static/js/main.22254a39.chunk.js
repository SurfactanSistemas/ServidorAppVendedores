(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(47)},20:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(3),o=n.n(s),c=(n(20),n(11)),i=n(1),l=n.n(i),u=n(2),d=n(7),g=n(8),m=n(12),p=n(9),f=n(13),v=n(4),h=n.n(v),b=n(10),M=n.n(b),_=(n(46),"http://201.231.98.97");function E(e,t){return fetch("".concat(_,"/Api/Proveedores")+e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return console.table({Actual:e,AComparar:t}),parseInt(e.split("/").reverse().join(""))<parseInt(t.split("/").reverse().join(""))},S=function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()},I=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e)))._cuitLoginInput=null,n._cuitRegisterInput=null,n._passLoginInput=null,n._passRegisterInput=null,n._confirmPassInput=null,n._activeControls=!1,n._RegisterMode=!1,n._loggedIn=!1,n._Loading=!0,n._IDProveedor=0,n.MsgGeneral="",n.WProv={Nombre:"",ID:0,Habilitado:"0",FechaAnotacion:""},n.renderForms=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:""!==n.state.MsgGeneral?"block":"none"},className:"panel panel-info"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"panel-title"},"Aviso Importante")),r.a.createElement("div",{className:"panel-body"},n.state.MsgGeneral)),n.renderLoadingView(),n.renderLoginForm(),n.renderMainPage(),n.renderRegistroProveedor())},n.renderLoadingView=function(){return r.a.createElement("div",{style:{display:n.state._Loading?"block":"none"}},r.a.createElement(M.a,{type:"Rings",color:"#00BFFF",height:"120",width:"120"}))},n.renderMainPage=function(){return r.a.createElement("div",{style:{display:n.state._loggedIn?"block":"none"}},r.a.createElement("form",{action:"/",onSubmit:n.onSuscribeSubmitHandle},r.a.createElement("div",{className:"form-group"},""!==n.state.errorMsg?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.state.errorMsg):null,""!==n.state.successMsg?r.a.createElement("div",{className:"alert alert-success",role:"alert"},n.state.successMsg):null,r.a.createElement("div",{className:"alert alert-primary",role:"alert"},r.a.createElement("p",null,r.a.createElement("span",{style:{fontWeight:"bold",textTransform:"uppercase",fontSize:"2rem"}},n.state.WProv.Nombre)),n.renderAvisoFechasSelectivo()),r.a.createElement("input",{disabled:n.state._activeControls||""!==n.state.WProv.FechaAnotacion||C(S(),n.state.FechaInicio),type:"submit",value:"ANOTARSE PARA PAGO SEMANAL",className:"form-control btn btn-success btn-block btn-anotarse"}),r.a.createElement("button",{onClick:n.onLogOutClick,style:{color:"white"},className:"form-control btn btn-link btn-block"},"CERRAR SESI\xd3N"))))},n.renderLoginForm=function(){return r.a.createElement("div",{style:{display:n.state._RegisterMode||n.state._Loading||n.state._loggedIn?"none":"block"}},r.a.createElement("form",{action:"/",onSubmit:n.onSubmitHandle},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.a,{disabled:n.state._activeControls,type:"text",name:"cuit",placeholder:"Ingrese su CUIT",value:n.state.value,mask:"99-99999999-9",maskChar:" ",className:"form-control text-center",onChange:function(e){return n.handleCuitOnChange(e)},autoFocus:!0,inputRef:function(e){return n._cuitLoginInput=e}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:n.state._activeControls,type:"password",name:"pass",placeholder:"Ingrese su Contrase\xf1a",value:n.state.pass,className:"form-control text-center",onChange:function(e){return n.handlePasswordOnChange(e)},ref:function(e){return n._passLoginInput=e}})),r.a.createElement("div",{className:"form-group"},""!==n.state.errorMsg?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.state.errorMsg):null,""!==n.state.successMsg?r.a.createElement("div",{className:"alert alert-success",role:"alert"},n.state.successMsg):null,r.a.createElement("input",{disabled:n.state._activeControls,type:"submit",value:"INGRESAR",className:"form-control btn btn-success btn-block"}),r.a.createElement("button",{onClick:n.toggleRegisterMode,style:{color:"white"},className:"form-control btn btn-link btn-block"},"REGISTRARSE"))))},n.renderRegistroProveedor=function(){return r.a.createElement("div",{style:{display:!n.state._RegisterMode||n.state._Loading||n.state._loggedIn?"none":"block"}},r.a.createElement("form",{action:"/",onSubmit:n.onRegisterSubmitHandle},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.a,{disabled:n.state._activeControls,type:"text",name:"cuit",placeholder:"Ingrese su CUIT",value:n.state.value,mask:"99-99999999-9",maskChar:" ",className:"form-control text-center",onChange:function(e){return n.handleCuitRegisterOnChange(e)},autoFocus:!0,inputRef:function(e){return n._cuitRegisterInput=e}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:n.state._activeControls,type:"password",name:"pass",placeholder:"Ingrese su Contrase\xf1a",value:n.state.pass,className:"form-control text-center",onChange:function(e){return n.handlePasswordRegisterOnChange(e)},ref:function(e){return n._passRegisterInput=e}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:n.state._activeControls,type:"password",name:"confirm-pass",placeholder:"Confirme su Contrase\xf1a",value:n.state.confirmPass,className:"form-control text-center form-danger",onChange:function(e){return n.handleConfirmPasswordOnChange(e)},ref:function(e){return n._confirmPassInput=e}})),r.a.createElement("div",{className:"form-group"},""!==n.state.errorMsg?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.state.errorMsg):null,""!==n.state.successMsg?r.a.createElement("div",{className:"alert alert-success",role:"alert"},n.state.successMsg):null,r.a.createElement("input",{disabled:n.state._activeControls,type:"submit",value:"REGISTRARSE",className:"form-control btn btn-success btn-block"}),r.a.createElement("button",{onClick:n.toggleRegisterMode,style:{color:"white"},className:"form-control btn btn-link btn-block"},"INGRESAR"))))},n.onSuscribeSubmitHandle=function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{n.setState({_Loading:!0},Object(u.a)(l.a.mark(function e(){var t,a,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("/AnotarProveedorSelectivo",{IDProveedor:n.state.WProv.ID});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.resultados?"":"No se ha podido realizar el Proceso de Anotaci\xf3n en el Sistema. Por favor, pruebe nuevamente en unos minutos.",s=a.resultados?"\xa1Operaci\xf3n realizada con \xe9xito! Recuerde que en caso de tener alg\xfan Pago disponible se estar\xe1 avisando por E-Mail.":"",n.setState({_Loading:!1,successMsg:s,errorMsg:r,_activeControls:a.resultados});case 9:case"end":return e.stop()}},e)})))}catch(a){console.log(a),n.setState({_Loading:!1,successMsg:"",errorMsg:"Ha ocurrido un error al querer realizar la operaci\xf3n. <".concat(a,">")})}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.onRegisterSubmitHandle=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n.state.value.toString().replace(" ","").length<13)){e.next=4;break}return n._cuitLoginInput.focus(),e.abrupt("return");case 4:if(""!==n.state.pass.trim()){e.next=7;break}return n.setState({errorMsg:"Debe indicar la contrase\xf1a.",successMsg:""},function(){return n._passRegisterInput.focus()}),e.abrupt("return");case 7:if(""!==n.state.confirmPass.trim()){e.next=10;break}return n.setState({errorMsg:"Debe confirmar la contrase\xf1a.",successMsg:""},function(){return n._confirmPassInput.focus()}),e.abrupt("return");case 10:if(n.state.pass===n.state.confirmPass){e.next=13;break}return n.setState({errorMsg:"Las contrase\xf1as no coinciden.",successMsg:""},function(){return n._confirmPassInput.focus()}),e.abrupt("return");case 13:return n.toggleActiveControls(),n.setState({_Loading:!0}),e.prev=15,e.next=18,E("/RegistrarNuevoProveedor",{Cuit:n.state.value,Password:n.state.pass});case 18:return a=e.sent,e.next=21,a.json();case 21:if(r=e.sent,console.log(r),!r.error){e.next=26;break}return n.setState({_Loading:!1,successMsg:"",errorMsg:"".concat(r.errMsg,".")}),e.abrupt("return");case 26:n.setState({successMsg:"\xa1Registro de Proveedor Correcto! Inicie sesi\xf3n con las credenciales que indic\xf3 anteriormente.",_RegisterMode:!1,_Loading:!1},function(){n._cuitLoginInput.focus()}),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(15),console.error(e.t0),n.setState({_Loading:!1,successMsg:"",errorMsg:"No se ha podido realizar el Proceso de Registraci\xf3n en el Sistema. Por favor, pruebe nuevamente en unos minutos. <".concat(e.t0,">")});case 33:n.toggleActiveControls();case 34:case"end":return e.stop()}},e,null,[[15,29]])}));return function(t){return e.apply(this,arguments)}}(),n.onSubmitHandle=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,s,o,i,u,d,g,m,p,f;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n.state.value.toString().replace(" ","").length<13)){e.next=4;break}return n._cuitLoginInput.focus(),e.abrupt("return");case 4:if(""!==n.state.pass.trim()){e.next=7;break}return n.setState({errorMsg:"Debe indicar la contrase\xf1a.",successMsg:""},function(){return n._passLoginInput.focus()}),e.abrupt("return");case 7:return n.toggleActiveControls(),n.setState({_Loading:!0}),e.prev=9,e.next=12,E("/CheckExistencia",{Cuit:n.state.value,Password:n.state.pass});case 12:return a=e.sent,e.next=15,a.json();case 15:if(e.sent.resultados){e.next=19;break}return n.setState({_Loading:!1,successMsg:"",errorMsg:"Las credenciales que se han indicado no son correctas."},function(){return n._cuitLoginInput.focus()}),e.abrupt("return");case 19:return e.next=21,E("/Login",{Cuit:n.state.value,Password:n.state.pass});case 21:return r=e.sent,e.next=24,r.json();case 24:if(0!==(s=e.sent).resultados.length){e.next=28;break}return n.setState({_Loading:!1,successMsg:"",errorMsg:"Las credenciales que se han indicado no son correctas."},function(){return n._cuitLoginInput.focus()}),e.abrupt("return");case 28:return o=n.state.WProv,s.resultados&&s.resultados.length>0&&(o=s.resultados[0]),e.next=32,E("/SelectivoConfig");case 32:return i=e.sent,e.next=35,i.json();case 35:u=e.sent,d=Object(c.a)(u.resultados,1),g=d[0],m="",p="",f="",g&&(m=g.Fecha||"",f=g.FechaInicio||"",p=g.Msg||""),console.table({FechaAnot:m,FechaIni:f,MsgGral:p}),n.setState({errorMsg:"",successMsg:"",MsgGeneral:p,ProximaFechaAnotacion:m,FechaInicio:f,_loggedIn:!0,_Loading:!1,WProv:o}),e.next=50;break;case 46:e.prev=46,e.t0=e.catch(9),console.error(e.t0),n.setState({_Loading:!1,successMsg:"",errorMsg:"No se ha podido Iniciar Sesi\xf3n en el Sistema. Por favor, pruebe nuevamente en unos minutos. <".concat(e.t0,">")});case 50:n.toggleActiveControls();case 51:case"end":return e.stop()}},e,null,[[9,46]])}));return function(t){return e.apply(this,arguments)}}(),n.onLogOutClick=function(e){e.preventDefault(),n.setState({errorMsg:"",successMsg:"",_loggedIn:!1,_RegisterMode:!1,value:"",pass:"",confirmPass:"",_Loading:!1,MsgGeneral:"",_activeControls:!1},function(){n._cuitLoginInput.focus()})},n.toggleActiveControls=function(){return n.setState({_activeControls:!n.state._activeControls,_Loading:!1})},n.toggleRegisterMode=function(){return n.setState({_RegisterMode:!n.state._RegisterMode,errorMsg:"",successMsg:"",_loggedIn:!1,pass:"",confirmPass:"",_Loading:!1},function(){return n.state._RegisterMode?n._cuitRegisterInput.focus():n._cuitLoginInput.focus()})},n.state={value:"",pass:"",confirmPass:"",ProximaFechaAnotacion:"",FechaInicio:"",MsgGeneral:"",errorMsg:"",successMsg:"",_Loading:!1,_RegisterMode:!1,WProv:{Nombre:"",ID:0,Habilitado:"0",FechaAnotacion:""}},n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header",style:{paddingTop:this.state._loggedIn?"1.5em":"3em"}},r.a.createElement("div",{className:"col-xs-1 col-md-2"}),r.a.createElement("div",{className:"col-xs-10 col-md-4"},r.a.createElement("p",{style:{fontSize:"3rem",fontWeight:"bold"}},"BIENVENIDO"),this.renderForms())))}},{key:"renderAvisoFechasSelectivo",value:function(){return""===this.state.WProv.FechaAnotacion?C(S(),this.state.FechaInicio)?r.a.createElement("p",null,"El pr\xf3ximo per\xedodo para poder anotarse comienza el ",this.state.FechaInicio,"."):r.a.createElement("p",{style:{opacity:""!==this.state.ProximaFechaAnotacion?"1":"0"}},"Recuerde que se est\xe1 anotando para los pagos que se realizar\xe1n el d\xeda ",this.state.ProximaFechaAnotacion,"."):""!==this.state.WProv.FechaAnotacion?r.a.createElement("p",{style:{opacity:""!==this.state.WProv.FechaAnotacion?"1":"0"}},"Recuerde que ya se encuentra anotado para la Fecha ",this.state.WProv.FechaAnotacion,"."):void 0}},{key:"handlePasswordOnChange",value:function(e){this.setState({pass:e.target.value,errorMsg:"",successMsg:""})}},{key:"handleConfirmPasswordOnChange",value:function(e){this.setState({confirmPass:e.target.value,errorMsg:"",successMsg:""})}},{key:"handleCuitOnChange",value:function(e){this.setState({value:e.target.value,errorMsg:""})}},{key:"handleCuitRegisterOnChange",value:function(e){this.setState({value:e.target.value,errorMsg:""})}},{key:"handlePasswordRegisterOnChange",value:function(e){this.setState({pass:e.target.value,errorMsg:"",successMsg:""})}}]),t}(r.a.Component),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(I,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");k?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):P(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):P(t,e)})}}()}},[[14,1,2]]]);