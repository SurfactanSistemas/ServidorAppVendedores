(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(47)},20:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),o=a.n(s),c=(a(20),a(11)),i=a(1),l=a.n(i),u=a(2),d=a(7),g=a(8),m=a(12),p=a(9),f=a(13),v=a(4),h=a.n(v),b=a(10),_=a.n(b),M=(a(46),"http://201.231.98.97");function E(e,t){return fetch("".concat(M,"/Api/Proveedores")+e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return parseInt(e.split("/").reverse().join(""))<parseInt(t.split("/").reverse().join(""))},S=function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()},I=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e)))._cuitLoginInput=null,a._cuitRegisterInput=null,a._passLoginInput=null,a._passRegisterInput=null,a._confirmPassInput=null,a._activeControls=!1,a._RegisterMode=!1,a._loggedIn=!1,a._Loading=!0,a._IDProveedor=0,a.MsgGeneral="",a.WProv={Nombre:"",ID:0,Habilitado:"0",FechaAnotacion:""},a.renderForms=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:""!==a.state.MsgGeneral?"block":"none"},className:"panel panel-info"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"panel-title"},"Aviso Importante")),r.a.createElement("div",{className:"panel-body"},a.state.MsgGeneral)),a.renderLoadingView(),a.renderLoginForm(),a.renderMainPage(),a.renderRegistroProveedor())},a.renderLoadingView=function(){return r.a.createElement("div",{style:{display:a.state._Loading?"block":"none"}},r.a.createElement(_.a,{type:"Rings",color:"#00BFFF",height:"120",width:"120"}))},a.renderMainPage=function(){return r.a.createElement("div",{style:{display:a.state._loggedIn?"block":"none"}},r.a.createElement("form",{action:"/",onSubmit:a.onSuscribeSubmitHandle},r.a.createElement("div",{className:"form-group"},""!==a.state.errorMsg?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.state.errorMsg):null,""!==a.state.successMsg?r.a.createElement("div",{className:"alert alert-success",role:"alert"},a.state.successMsg):null,r.a.createElement("div",{className:"alert alert-primary",role:"alert"},r.a.createElement("p",null,r.a.createElement("span",{style:{fontWeight:"bold",textTransform:"uppercase",fontSize:"2rem"}},a.state.WProv.Nombre)),a.renderAvisoFechasSelectivo()),r.a.createElement("input",{disabled:a.state._activeControls||""!==a.state.WProv.FechaAnotacion||C(S(),a.state.FechaInicio),type:"submit",value:"ANOTARSE PARA PAGO SEMANAL",className:"form-control btn btn-success btn-block btn-anotarse"}),r.a.createElement("button",{onClick:a.onLogOutClick,style:{color:"white"},className:"form-control btn btn-link btn-block"},"CERRAR SESI\xd3N"))))},a.renderLoginForm=function(){return r.a.createElement("div",{style:{display:a.state._RegisterMode||a.state._Loading||a.state._loggedIn?"none":"block"}},r.a.createElement("form",{action:"/",onSubmit:a.onSubmitHandle},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.a,{disabled:a.state._activeControls,type:"text",name:"cuit",placeholder:"Ingrese su CUIT",value:a.state.value,mask:"99-99999999-9",maskChar:" ",className:"form-control text-center",onChange:function(e){return a.handleCuitOnChange(e)},autoFocus:!0,inputRef:function(e){return a._cuitLoginInput=e}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:a.state._activeControls,type:"password",name:"pass",placeholder:"Ingrese su Contrase\xf1a",value:a.state.pass,className:"form-control text-center",onChange:function(e){return a.handlePasswordOnChange(e)},ref:function(e){return a._passLoginInput=e}})),r.a.createElement("div",{className:"form-group"},""!==a.state.errorMsg?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.state.errorMsg):null,""!==a.state.successMsg?r.a.createElement("div",{className:"alert alert-success",role:"alert"},a.state.successMsg):null,r.a.createElement("input",{disabled:a.state._activeControls,type:"submit",value:"INGRESAR",className:"form-control btn btn-success btn-block"}),r.a.createElement("button",{onClick:a.toggleRegisterMode,style:{color:"white"},className:"form-control btn btn-link btn-block"},"REGISTRARSE"))))},a.renderRegistroProveedor=function(){return r.a.createElement("div",{style:{display:!a.state._RegisterMode||a.state._Loading||a.state._loggedIn?"none":"block"}},r.a.createElement("form",{action:"/",onSubmit:a.onRegisterSubmitHandle},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.a,{disabled:a.state._activeControls,type:"text",name:"cuit",placeholder:"Ingrese su CUIT",value:a.state.value,mask:"99-99999999-9",maskChar:" ",className:"form-control text-center",onChange:function(e){return a.handleCuitRegisterOnChange(e)},autoFocus:!0,inputRef:function(e){return a._cuitRegisterInput=e}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:a.state._activeControls,type:"password",name:"pass",placeholder:"Ingrese su Contrase\xf1a",value:a.state.pass,className:"form-control text-center",onChange:function(e){return a.handlePasswordRegisterOnChange(e)},ref:function(e){return a._passRegisterInput=e}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{disabled:a.state._activeControls,type:"password",name:"confirm-pass",placeholder:"Confirme su Contrase\xf1a",value:a.state.confirmPass,className:"form-control text-center form-danger",onChange:function(e){return a.handleConfirmPasswordOnChange(e)},ref:function(e){return a._confirmPassInput=e}})),r.a.createElement("div",{className:"form-group"},""!==a.state.errorMsg?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.state.errorMsg):null,""!==a.state.successMsg?r.a.createElement("div",{className:"alert alert-success",role:"alert"},a.state.successMsg):null,r.a.createElement("input",{disabled:a.state._activeControls,type:"submit",value:"REGISTRARSE",className:"form-control btn btn-success btn-block"}),r.a.createElement("button",{onClick:a.toggleRegisterMode,style:{color:"white"},className:"form-control btn btn-link btn-block"},"INGRESAR"))))},a.onSuscribeSubmitHandle=function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{a.setState({_Loading:!0},Object(u.a)(l.a.mark(function e(){var t,n,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("/AnotarProveedorSelectivo",{IDProveedor:a.state.WProv.ID});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.resultados?"":"No se ha podido realizar el Proceso de Anotaci\xf3n en el Sistema. Por favor, pruebe nuevamente en unos minutos.",s=n.resultados?"\xa1Operaci\xf3n realizada con \xe9xito! Recuerde que en caso de tener alg\xfan Pago disponible se estar\xe1 avisando por E-Mail.":"",a.setState({_Loading:!1,successMsg:s,errorMsg:r,_activeControls:n.resultados});case 9:case"end":return e.stop()}},e)})))}catch(n){console.log(n),a.setState({_Loading:!1,successMsg:"",errorMsg:"Ha ocurrido un error al querer realizar la operaci\xf3n. <".concat(n,">")})}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onRegisterSubmitHandle=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.state.value.toString().replace(" ","").length<13)){e.next=4;break}return a._cuitLoginInput.focus(),e.abrupt("return");case 4:if(""!==a.state.pass.trim()){e.next=7;break}return a.setState({errorMsg:"Debe indicar la contrase\xf1a.",successMsg:""},function(){return a._passRegisterInput.focus()}),e.abrupt("return");case 7:if(""!==a.state.confirmPass.trim()){e.next=10;break}return a.setState({errorMsg:"Debe confirmar la contrase\xf1a.",successMsg:""},function(){return a._confirmPassInput.focus()}),e.abrupt("return");case 10:if(a.state.pass===a.state.confirmPass){e.next=13;break}return a.setState({errorMsg:"Las contrase\xf1as no coinciden.",successMsg:""},function(){return a._confirmPassInput.focus()}),e.abrupt("return");case 13:return a.toggleActiveControls(),a.setState({_Loading:!0}),e.prev=15,e.next=18,E("/RegistrarNuevoProveedor",{Cuit:a.state.value,Password:a.state.pass});case 18:return n=e.sent,e.next=21,n.json();case 21:if(!(r=e.sent).error){e.next=25;break}return a.setState({_Loading:!1,successMsg:"",errorMsg:"".concat(r.errMsg,".")}),e.abrupt("return");case 25:a.setState({successMsg:"\xa1Registro de Proveedor Correcto! Inicie sesi\xf3n con las credenciales que indic\xf3 anteriormente.",_RegisterMode:!1,_Loading:!1},function(){a._cuitLoginInput.focus()}),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(15),console.error(e.t0),a.setState({_Loading:!1,successMsg:"",errorMsg:"No se ha podido realizar el Proceso de Registraci\xf3n en el Sistema. Por favor, pruebe nuevamente en unos minutos. <".concat(e.t0,">")});case 32:a.toggleActiveControls();case 33:case"end":return e.stop()}},e,null,[[15,28]])}));return function(t){return e.apply(this,arguments)}}(),a.onSubmitHandle=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r,s,o,i,u,d,g,m,p,f;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.state.value.toString().replace(" ","").length<13)){e.next=4;break}return a._cuitLoginInput.focus(),e.abrupt("return");case 4:if(""!==a.state.pass.trim()){e.next=7;break}return a.setState({errorMsg:"Debe indicar la contrase\xf1a.",successMsg:""},function(){return a._passLoginInput.focus()}),e.abrupt("return");case 7:return a.toggleActiveControls(),a.setState({_Loading:!0}),e.prev=9,e.next=12,E("/CheckExistencia",{Cuit:a.state.value,Password:a.state.pass});case 12:return n=e.sent,e.next=15,n.json();case 15:if(e.sent.resultados){e.next=19;break}return a.setState({_Loading:!1,successMsg:"",_activeControls:!1,errorMsg:"Las credenciales que se han indicado no son correctas."},function(){return a._cuitLoginInput.focus()}),e.abrupt("return");case 19:return e.next=21,E("/Login",{Cuit:a.state.value,Password:a.state.pass});case 21:return r=e.sent,e.next=24,r.json();case 24:if(0!==(s=e.sent).resultados.length){e.next=28;break}return a.setState({_Loading:!1,successMsg:"",_activeControls:!1,errorMsg:"Las credenciales que se han indicado no son correctas."},function(){return a._cuitLoginInput.focus()}),e.abrupt("return");case 28:return o=a.state.WProv,s.resultados&&s.resultados.length>0&&(o=s.resultados[0]),e.next=32,E("/SelectivoConfig");case 32:return i=e.sent,e.next=35,i.json();case 35:u=e.sent,d=Object(c.a)(u.resultados,1),g=d[0],m="",p="",f="",g&&(m=g.Fecha||"",f=g.FechaInicio||"",p=g.Msg||""),a.setState({errorMsg:"",successMsg:"",MsgGeneral:p,ProximaFechaAnotacion:m,FechaInicio:f,_loggedIn:!0,_Loading:!1,WProv:o,pass:"",confirmPass:""}),e.next=49;break;case 45:e.prev=45,e.t0=e.catch(9),console.error(e.t0),a.setState({_Loading:!1,successMsg:"",errorMsg:"No se ha podido Iniciar Sesi\xf3n en el Sistema. Por favor, pruebe nuevamente en unos minutos. <".concat(e.t0,">")});case 49:a.toggleActiveControls();case 50:case"end":return e.stop()}},e,null,[[9,45]])}));return function(t){return e.apply(this,arguments)}}(),a.onLogOutClick=function(e){e.preventDefault(),a.setState({errorMsg:"",successMsg:"",_loggedIn:!1,_RegisterMode:!1,value:"",pass:"",confirmPass:"",_Loading:!1,MsgGeneral:"",_activeControls:!1},function(){a._cuitLoginInput.focus()})},a.toggleActiveControls=function(){return a.setState({_activeControls:!a.state._activeControls,_Loading:!1})},a.toggleRegisterMode=function(){return a.setState({_RegisterMode:!a.state._RegisterMode,errorMsg:"",successMsg:"",_loggedIn:!1,pass:"",confirmPass:"",_Loading:!1},function(){return a.state._RegisterMode?a._cuitRegisterInput.focus():a._cuitLoginInput.focus()})},a.state={value:"",pass:"",confirmPass:"",ProximaFechaAnotacion:"",FechaInicio:"",MsgGeneral:"",errorMsg:"",successMsg:"",_Loading:!1,_RegisterMode:!1,WProv:{Nombre:"",ID:0,Habilitado:"0",FechaAnotacion:""}},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header",style:{paddingTop:this.state._loggedIn?"1.5em":"3em"}},r.a.createElement("div",{className:this.state._loggedIn?"col-xs-1 col-md-3":"col-xs-1 col-md-2"}),r.a.createElement("div",{className:this.state._loggedIn?"col-xs-10 col-md-6":"col-xs-10 col-md-4"},r.a.createElement("p",{style:{fontSize:"3rem",fontWeight:"bold"}},"BIENVENIDO"),this.renderForms())))}},{key:"renderAvisoFechasSelectivo",value:function(){return""===this.state.WProv.FechaAnotacion?C(S(),this.state.FechaInicio)?r.a.createElement("div",null,r.a.createElement("p",null,"El per\xedodo actual para poder anotarse para la Fecha de Pago ",this.state.ProximaFechaAnotacion,", se ecnuentra cerrada. El pr\xf3ximo comienza el ",this.state.FechaInicio," con Fecha de Pago ",this.state.ProximaFechaAnotacion,".",r.a.createElement("button",{disabled:this.state._activeControls,className:"btn btn-block btn-primary btn-anotarse",onClick:this.onSuscribeSubmitHandle},"\xbfDesea anotarse para la Fecha ",this.state.ProximaFechaAnotacion,"?",r.a.createElement("br",null),"Haga click ac\xe1"))):r.a.createElement("p",{style:{opacity:""!==this.state.ProximaFechaAnotacion?"1":"0"}},"Recuerde que se est\xe1 anotando para los pagos que se realizar\xe1n el d\xeda ",this.state.ProximaFechaAnotacion,"."):""!==this.state.WProv.FechaAnotacion?r.a.createElement("p",{style:{opacity:""!==this.state.WProv.FechaAnotacion?"1":"0"}},"Recuerde que ya se encuentra anotado para la Fecha ",this.state.WProv.FechaAnotacion,"."):void 0}},{key:"handlePasswordOnChange",value:function(e){this.setState({pass:e.target.value,errorMsg:"",successMsg:""})}},{key:"handleConfirmPasswordOnChange",value:function(e){this.setState({confirmPass:e.target.value,errorMsg:"",successMsg:""})}},{key:"handleCuitOnChange",value:function(e){this.setState({value:e.target.value,errorMsg:""})}},{key:"handleCuitRegisterOnChange",value:function(e){this.setState({value:e.target.value,errorMsg:""})}},{key:"handlePasswordRegisterOnChange",value:function(e){this.setState({pass:e.target.value,errorMsg:"",successMsg:""})}}]),t}(r.a.Component),P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(I,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/proveedores",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/proveedores","/service-worker.js");P?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(t,e)})}}()}},[[14,1,2]]]);